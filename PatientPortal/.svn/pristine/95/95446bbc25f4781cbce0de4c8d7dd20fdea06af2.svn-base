using Microsoft.VisualStudio.TestTools.UnitTesting;
using PatientPortal.DataAccess.CMS;
using PatientPortal.DataAccess.Repo.CMS;
using PatientPortal.Domain.Models.CMS;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace PatientPortal.UnitTest.CMS
{
    [TestClass]
    public class WorkflowUnitTest
    {
        public IWorkflow _workflowImpl;

        [TestInitialize]
        public void TestInitialize()
        {
            //_workflowImpl = new WorkflowImpl();
        }

        [TestMethod]
        public void WorkflowGetAll()
        {
            //var count = _workflowImpl.GetAll().Count;
            //Assert.IsTrue(count >= 0);
        }

        [TestMethod]
        public void WorkflowInsert()
        {
            //var listInsert = new List<Workflow>()
            //{
            //    new Workflow { Name = "Workflow" }
            //};
            //var flag = _workflowImpl.Transaction(listInsert, 'I');
            //Assert.IsTrue(flag);
        }

        [TestMethod]
        public void WorkflowUpdate()
        {
            //var list = _workflowImpl.GetAll();
            //var listUpdate = new List<Workflow>();
            //var wf = new Workflow();
            //if (list.Count > 0)
            //{
            //    wf = list.LastOrDefault();
            //}
            //else
            //{
            //    var listInsert = new List<Workflow>()
            //    {
            //        new Workflow { Name = "Workflow" }
            //    };
            //    _workflowImpl.Transaction(listInsert, 'I');
            //    wf = _workflowImpl.GetAll().LastOrDefault();
            //}
            //wf.Name = "Workflow Updates";
            //listUpdate.Add(wf);

            //var flag = _workflowImpl.Transaction(listUpdate, 'U');
            //Assert.IsTrue(flag);
        }

        [TestMethod]
        public void WorkflowDelete()
        {
            //var listInsert = new List<Workflow>()
            //{
            //    new Workflow { Name = "Wf" }
            //};
            //var wf = new Workflow();
            //_workflowImpl.Transaction(listInsert, 'I');
            //wf = _workflowImpl.GetAll().LastOrDefault();
            //var listDel = new List<Workflow>();
            //listDel.Add(wf);
            
            //var flag = _workflowImpl.Transaction(listDel, 'D');
            //Assert.IsTrue(flag);
        }
    }
}
